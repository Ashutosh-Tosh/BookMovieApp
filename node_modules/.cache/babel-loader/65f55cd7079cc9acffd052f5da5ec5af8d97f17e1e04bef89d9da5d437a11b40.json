{"ast":null,"code":"import warning from 'warning';\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n  var setPrompt = function setPrompt(nextPrompt) {\n    warning(prompt == null, 'A history supports only one prompt at a time');\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n  var listeners = [];\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\nexport default createTransitionManager;","map":{"version":3,"names":["warning","createTransitionManager","prompt","setPrompt","nextPrompt","confirmTransitionTo","location","action","getUserConfirmation","callback","result","listeners","appendListener","fn","isActive","listener","apply","undefined","arguments","push","filter","item","notifyListeners","_len","length","args","Array","_key","forEach"],"sources":["C:/Users/ashut/OneDrive/Desktop/UPGRAD/React-Project/BookMovieApp/BookMovieApp/node_modules/history/es/createTransitionManager.js"],"sourcesContent":["import warning from 'warning';\r\n\r\nvar createTransitionManager = function createTransitionManager() {\r\n  var prompt = null;\r\n\r\n  var setPrompt = function setPrompt(nextPrompt) {\r\n    warning(prompt == null, 'A history supports only one prompt at a time');\r\n\r\n    prompt = nextPrompt;\r\n\r\n    return function () {\r\n      if (prompt === nextPrompt) prompt = null;\r\n    };\r\n  };\r\n\r\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\r\n    // TODO: If another transition starts while we're still confirming\r\n    // the previous one, we may end up in a weird state. Figure out the\r\n    // best way to handle this.\r\n    if (prompt != null) {\r\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\r\n\r\n      if (typeof result === 'string') {\r\n        if (typeof getUserConfirmation === 'function') {\r\n          getUserConfirmation(result, callback);\r\n        } else {\r\n          warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\r\n\r\n          callback(true);\r\n        }\r\n      } else {\r\n        // Return false from a transition hook to cancel the transition.\r\n        callback(result !== false);\r\n      }\r\n    } else {\r\n      callback(true);\r\n    }\r\n  };\r\n\r\n  var listeners = [];\r\n\r\n  var appendListener = function appendListener(fn) {\r\n    var isActive = true;\r\n\r\n    var listener = function listener() {\r\n      if (isActive) fn.apply(undefined, arguments);\r\n    };\r\n\r\n    listeners.push(listener);\r\n\r\n    return function () {\r\n      isActive = false;\r\n      listeners = listeners.filter(function (item) {\r\n        return item !== listener;\r\n      });\r\n    };\r\n  };\r\n\r\n  var notifyListeners = function notifyListeners() {\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    listeners.forEach(function (listener) {\r\n      return listener.apply(undefined, args);\r\n    });\r\n  };\r\n\r\n  return {\r\n    setPrompt: setPrompt,\r\n    confirmTransitionTo: confirmTransitionTo,\r\n    appendListener: appendListener,\r\n    notifyListeners: notifyListeners\r\n  };\r\n};\r\n\r\nexport default createTransitionManager;"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAE7B,IAAIC,uBAAuB,GAAG,SAASA,uBAAuB,GAAG;EAC/D,IAAIC,MAAM,GAAG,IAAI;EAEjB,IAAIC,SAAS,GAAG,SAASA,SAAS,CAACC,UAAU,EAAE;IAC7CJ,OAAO,CAACE,MAAM,IAAI,IAAI,EAAE,8CAA8C,CAAC;IAEvEA,MAAM,GAAGE,UAAU;IAEnB,OAAO,YAAY;MACjB,IAAIF,MAAM,KAAKE,UAAU,EAAEF,MAAM,GAAG,IAAI;IAC1C,CAAC;EACH,CAAC;EAED,IAAIG,mBAAmB,GAAG,SAASA,mBAAmB,CAACC,QAAQ,EAAEC,MAAM,EAAEC,mBAAmB,EAAEC,QAAQ,EAAE;IACtG;IACA;IACA;IACA,IAAIP,MAAM,IAAI,IAAI,EAAE;MAClB,IAAIQ,MAAM,GAAG,OAAOR,MAAM,KAAK,UAAU,GAAGA,MAAM,CAACI,QAAQ,EAAEC,MAAM,CAAC,GAAGL,MAAM;MAE7E,IAAI,OAAOQ,MAAM,KAAK,QAAQ,EAAE;QAC9B,IAAI,OAAOF,mBAAmB,KAAK,UAAU,EAAE;UAC7CA,mBAAmB,CAACE,MAAM,EAAED,QAAQ,CAAC;QACvC,CAAC,MAAM;UACLT,OAAO,CAAC,KAAK,EAAE,iFAAiF,CAAC;UAEjGS,QAAQ,CAAC,IAAI,CAAC;QAChB;MACF,CAAC,MAAM;QACL;QACAA,QAAQ,CAACC,MAAM,KAAK,KAAK,CAAC;MAC5B;IACF,CAAC,MAAM;MACLD,QAAQ,CAAC,IAAI,CAAC;IAChB;EACF,CAAC;EAED,IAAIE,SAAS,GAAG,EAAE;EAElB,IAAIC,cAAc,GAAG,SAASA,cAAc,CAACC,EAAE,EAAE;IAC/C,IAAIC,QAAQ,GAAG,IAAI;IAEnB,IAAIC,QAAQ,GAAG,SAASA,QAAQ,GAAG;MACjC,IAAID,QAAQ,EAAED,EAAE,CAACG,KAAK,CAACC,SAAS,EAAEC,SAAS,CAAC;IAC9C,CAAC;IAEDP,SAAS,CAACQ,IAAI,CAACJ,QAAQ,CAAC;IAExB,OAAO,YAAY;MACjBD,QAAQ,GAAG,KAAK;MAChBH,SAAS,GAAGA,SAAS,CAACS,MAAM,CAAC,UAAUC,IAAI,EAAE;QAC3C,OAAOA,IAAI,KAAKN,QAAQ;MAC1B,CAAC,CAAC;IACJ,CAAC;EACH,CAAC;EAED,IAAIO,eAAe,GAAG,SAASA,eAAe,GAAG;IAC/C,KAAK,IAAIC,IAAI,GAAGL,SAAS,CAACM,MAAM,EAAEC,IAAI,GAAGC,KAAK,CAACH,IAAI,CAAC,EAAEI,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGJ,IAAI,EAAEI,IAAI,EAAE,EAAE;MACnFF,IAAI,CAACE,IAAI,CAAC,GAAGT,SAAS,CAACS,IAAI,CAAC;IAC9B;IAEAhB,SAAS,CAACiB,OAAO,CAAC,UAAUb,QAAQ,EAAE;MACpC,OAAOA,QAAQ,CAACC,KAAK,CAACC,SAAS,EAAEQ,IAAI,CAAC;IACxC,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IACLtB,SAAS,EAAEA,SAAS;IACpBE,mBAAmB,EAAEA,mBAAmB;IACxCO,cAAc,EAAEA,cAAc;IAC9BU,eAAe,EAAEA;EACnB,CAAC;AACH,CAAC;AAED,eAAerB,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}